
@{
    ViewBag.Title = "CrudJS";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>CrudJS</h2>

<!--TABLA GET ALL-->
<div class="container">
    <div class="row">
        <div class="row">
            <button type="button" class="btn btn-primary" data-bs-target="#staticBackdrop" onclick="Formulario(IdUsuario=0), 
    mostrarModal()">
                Agregar
            </button>
        </div>
        <div class="col">
            <div class="table-responsive">
                <table class="table-bordered table align-middle">
                    <thead>
                        <tr>
                            <th scope="col">Editar</th>
                            <th scope="col">Estatus</th>
                            <th scope="col">Imagen</th>

                            <th scope="col">Nombre</th>
                            <th scope="col">Datos de usuario</th>
                            <th scope="col">Contacto</th>
                            <th scope="col">Inicio de sesión</th>
                            <th scope="col">Rol</th>
                            <th scope="col">Dirección</th>

                            <th scope="col">Eliminar</th>
                        </tr>
                    </thead>
                    <tbody id="tbodyCrudJS">
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>



<!-- Modal -->
<div class="modal-dialog">
<div class="modal fade" id="modalForm" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="staticBackdropLabel">Formulario</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <input id="inptIdUsuario" name="inptIdUsuario" type="hidden" />
                <input id="inptImagenUsuario" name="inptImagenUsuario" type="hidden" />

                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Nombre</span>
                    <input type="text" class="form-control" name="Nombre" placeholder="Nombre" aria-label="Nombre" aria-describedby="basic-addon1" id="inptNombre">
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Apellido Paterno</span>
                    <input type="text" class="form-control" name="ApellidoPaterno" placeholder="Apellido Paterno" aria-label="Apellido Paterno" aria-describedby="basic-addon1" id="inptApellidoPaterno">
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Apellido Materno</span>
                    <input type="text" class="form-control" name="ApellidoMaterno" placeholder="Apellido Materno" aria-label="Apellido Materno" aria-describedby="basic-addon1" id="inptApellidoMaterno">
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Celular</span>
                    <input type="text" class="form-control" name="Celular" placeholder="Celular" aria-label="Celular" aria-describedby="basic-addon1" id="inptCelular">
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Username</span>
                    <input type="text" class="form-control" name="UserName" placeholder="UserName" aria-label="UserName" aria-describedby="basic-addon1" id="inptUsername">
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Email</span>
                    <input type="text" class="form-control" name="Email" placeholder="Email" aria-label="Email" aria-describedby="basic-addon1" id="inptEmail">
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Password</span>
                    <input type="text" class="form-control" name="Password" placeholder="Password" aria-label="Password" aria-describedby="basic-addon1" id="inptPassword">
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">ConfirmarPassword</span>
                    <input type="text" class="form-control" name="ConfirmarPassword" placeholder="ConfirmarPassword" aria-label="ConfirmarPassword" aria-describedby="basic-addon1" id="inptConfirmarPassword">
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">FechaNacimiento</span>
                    <input type="text" class="form-control" name="FechaNacimiento" placeholder="FechaNacimiento" aria-label="FechaNacimiento" aria-describedby="basic-addon1" id="inptFechaNacimiento">
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Sexo</span>
                    <input type="text" class="form-control" name="Sexo" placeholder="Sexo" aria-label="Sexo" aria-describedby="basic-addon1" id="inptSexo">
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Telefono</span>
                    <input type="text" class="form-control" name="Telefono" placeholder="Telefono" aria-label="Telefono" aria-describedby="basic-addon1" id="inptTelefono">
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">CURP</span>
                    <input type="text" class="form-control" name="CURP" placeholder="CURP" aria-label="CURP" aria-describedby="basic-addon1" id="inptCurp">
                </div>
                <div class="mb-3">
                    <span class="input-group-text" id="basic-addon1">Rol</span>
                    <select id="ddlRol">
                    </select>
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Imagen</span>
                    <input type="text" class="form-control" name="Imagen" placeholder="Imagen" aria-label="Imagen" aria-describedby="basic-addon1" id="inptImagen">
                </div>
                <hr />
                <h3>Dirección</h3>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Calle</span>
                    <input type="text" class="form-control" name="Calle" placeholder="Calle" aria-label="Calle" aria-describedby="basic-addon1" id="inptCalle">
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Numero interior</span>
                    <input type="text" class="form-control" name="NumeroInterior" placeholder="Numero interior" aria-label="Numero interior" aria-describedby="basic-addon1" id="inptNumeroInterior">
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text" id="basic-addon1">Numero exterior</span>
                    <input type="text" class="form-control" name="NumeroExterior" placeholder="Numero interior" aria-label="Numero interior" aria-describedby="basic-addon1" id="inptNumeroExterior">
                </div>
                <div class="mb-3">
                    <span class="input-group-text" id="basic-addon1">Estado</span>
                    <select id="ddlEstado" onchange="DDLMunicipio()">
                    </select>
                </div>
                <div class="mb-3">
                    <span class="input-group-text" id="basic-addon1">Municipio</span>
                    <select id="ddlMunicipio" onchange="DDLColonia()">
                    </select>
                </div>
                <div class="mb-3">
                    <span class="input-group-text" id="basic-addon1">Colonia</span>
                    <select id="ddlColonia">
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" onclick="Guardar(IdUsuario)">Guardar</button>
            </div>
        </div>
    </div>
</div>
</div>



@Scripts.Render("~/bundles/jquery") <!--Importamos JQuery-->

<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<link rel="stylesheet" href="/resources/demos/style.css">
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />

<script>
    var urlGetAll = "@Url.Action("GetAll", "CrudJS")"
    ////var urlAdd = "@Url.Action("Add", "CrudJS")"
    var urlDelete = "@Url.Action("Delete", "CrudJS")"
    ////var urlUpdate = "@Url.Action("Update", "CrudJS")"
    var urlForm = "@Url.Action("Form", "CrudJS")"
    var urlGetById = "@Url.Action("GetById", "CrudJS")"
    var urlDDLRol = "@Url.Action("DDLRol", "CrudJS")"
    var urlDDLEstado = "@Url.Action("DDLEstado", "CrudJS")"
    var urlDDLMunicipio = "@Url.Action("DDLMunicipio", "CrudJS")?idEstado="
    var urlDDLColonia = "@Url.Action("DDLColonia", "CrudJS")?idMunicipio="
</script>

@*<script src="~/Scripts/CrudJS/Crud.js"></script>*@
<script src="~/Scripts/CrudJS/Crud2.js"></script>
@*<script src="~/Scripts/CrudJS/CrudJsPrueba.js"></script>*@





